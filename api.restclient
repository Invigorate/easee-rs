# -*- restclient -*-

:base_url = https://api.easee.cloud

:username := (getenv "EASEE_USERNAME")
:password := (getenv "EASEE_PASSWORD")

# :token := (getenv "EASEE_ACCESS_TOKEN")
# :refreshToken := (getenv "EASEE_REFRESH_TOKEN")

:token = eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlcVJKMDhGMTFBQi14QWhnNnNSbXdxSE5PdzllS09JbmJaSVpISmpoOVc4In0.eyJleHAiOjE2OTI5MjE2NDAsImlhdCI6MTY5MjkxODA0MCwianRpIjoiODEyNzBmNzYtOGYxYy00Y2RkLWJhOGEtYzBlMzliMmZiYzljIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmVhc2VlLmNvbS9yZWFsbXMvZWFzZWUiLCJhdWQiOlsiZWFzZWUtY2xvdWQiLCJlYXNlZS1kZXZpY2Utc2V0dGluZ3MiLCJlYXNlZS1hY2Nlc3MtY29udHJvbCIsImVhc2VlLXByaW1vcmRpYWwiLCJlYXNlZS1jaHJvbmljbGUiLCJlYXNlZS1jdXJyZW50LWRldmljZS1zdGF0ZSIsImVhc2VlLWNvbW1hbmRldXIiLCJlYXNlZSIsImFjY291bnQiXSwic3ViIjoiOWMxMjNhOWQtNDdiNS00NzQ4LWFhNTEtZWRlZDhhMGQxY2I0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZWFzZWUiLCJzZXNzaW9uX3N0YXRlIjoiYTg0YWIyMDktNmM4OC00ZWQ0LWE5YWMtZDZjZjg3NDMzNTIxIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL3BvcnRhbC5lYXNlZS5jb20iLCJodHRwczovL29hdXRoLnBzdG1uLmlvIiwiaHR0cHM6Ly9maXJtd2FyZS1tYW5hZ2VyLmVhc2VlLmNsb3VkIiwiaHR0cHM6Ly9lYXNlZS5jbG91ZCJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiZWFzZWUtY29tbWFuZGV1ciI6eyJyb2xlcyI6WyJjb21tYW5kX2hpc3RvcnlfcmVhZCIsImNvbW1hbmRfd3JpdGUiXX0sImVhc2VlLXByaW1vcmRpYWwiOnsicm9sZXMiOlsiZGV2aWNlX21hbnVmYWN0dXJpbmdfcmVhZCJdfSwiZWFzZWUtY2hyb25pY2xlIjp7InJvbGVzIjpbIm9ic2VydmF0aW9uX2hpc3RvcnlfcmVhZCJdfSwiZWFzZWUtZGV2aWNlLXNldHRpbmdzIjp7InJvbGVzIjpbInNldHRpbmdzX3dyaXRlIiwic2V0dGluZ3NfcmVhZCJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19LCJlYXNlZS1jdXJyZW50LWRldmljZS1zdGF0ZSI6eyJyb2xlcyI6WyJvYnNlcnZhdGlvbl9zdGF0ZV9yZWFkIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiYTg0YWIyMDktNmM4OC00ZWQ0LWE5YWMtZDZjZjg3NDMzNTIxIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIkFjY291bnRJZCI6IjMwMDk4MSIsInJvbGUiOlsiVXNlciJdLCJTdXBwb3J0IjoiRmFsc2UiLCJVc2VySWQiOiIyNjU1MTQiLCJyb2xlcyI6WyJjb21tYW5kX2hpc3RvcnlfcmVhZCIsImNvbW1hbmRfd3JpdGUiLCJkZXZpY2VfbWFudWZhY3R1cmluZ19yZWFkIiwib2JzZXJ2YXRpb25faGlzdG9yeV9yZWFkIiwic2V0dGluZ3Nfd3JpdGUiLCJzZXR0aW5nc19yZWFkIiwibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSIsIm9ic2VydmF0aW9uX3N0YXRlX3JlYWQiXSwibmFtZSI6Ik5pY2xhcyBSb3NlbmdyZW4iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiIrNDY3MzcwNzc3NDYiLCJnaXZlbl9uYW1lIjoiTmljbGFzIiwiZmFtaWx5X25hbWUiOiJSb3NlbmdyZW4iLCJlbWFpbCI6Im5pY2xhc0BuaXJvLm51In0.LEpYNmh3rnl3XNUL1k0pspBmk6kPfeVRBoc5LXGgn14QuCNuX770HDBn5uNrenGGtOQzYC6i2pRnOtBWIJ4nt6mdWQR0FRS5pW8Y2Q6PNhVrfL8j2gZa2cXYRSkueO_mY5pgQh_U7cZ1aJrtQQ6-AMjzJhh5U6e738giLNmPLCpd-oDFQelcZlYQEOcQSkAbhu1gvHbOHxyNjQmix6SMH5nF_-FN-wKazlQZgpRVD6L9esbVBVb0SRSb9rmsE_JHmaZWGMWIPqxq5h0KN0Z4T_xqiHreKC6QLskwRfS1tusis-44jneIsKWduBLHHBLAYHzu_pHn6Py0-QuPejqqEQ

:refreshToken = eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJiZDQ3MjI5Ny04NGEzLTQzNzgtYmFkZS0yOGZiMGY1M2Y4YTIifQ.eyJleHAiOjE2OTMwMDQ0NDAsImlhdCI6MTY5MjkxODA0MCwianRpIjoiZTUzMmQxOWQtMzVlZS00OTMxLTg4N2EtMTRiMWMyZmQ3MWE5IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmVhc2VlLmNvbS9yZWFsbXMvZWFzZWUiLCJhdWQiOiJodHRwczovL2F1dGguZWFzZWUuY29tL3JlYWxtcy9lYXNlZSIsInN1YiI6IjljMTIzYTlkLTQ3YjUtNDc0OC1hYTUxLWVkZWQ4YTBkMWNiNCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJlYXNlZSIsInNlc3Npb25fc3RhdGUiOiJhODRhYjIwOS02Yzg4LTRlZDQtYTlhYy1kNmNmODc0MzM1MjEiLCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiJhODRhYjIwOS02Yzg4LTRlZDQtYTlhYy1kNmNmODc0MzM1MjEifQ.a1ei9QVsUadQblUts2Y4CnpYdogI2GW70nDcW2n8ApM

# Login
POST :base_url/api/accounts/login
Accept: application/json
Content-type: application/json

{
     "userName": ":username",
     "password": ":password"
}


# Refresh token
#
POST :base_url/api/accounts/refresh_token
Authorization: Bearer :token
Accept: application/json
Content-type: application/json

{
	"accessToken": ":token",
	"refreshToken": ":refreshToken"
}



# Get Profile
#
GET :base_url/api/accounts/profile
Authorization: Bearer :token
Accept: application/json


# Get Sites
#
GET :base_url/api/sites
Authorization: Bearer :token
Accept: application/json


:site_id = 575766


# Get a Site
#
GET :base_url/api/sites/:site_id
Authorization: Bearer :token
Accept: application/json


:charger_id = "EC3VJ7GU"

# Get Charger
#
GET :base_url/api/chargers/:charger_id
Authorization: Bearer :token
Accept: application/json



# Get Charger sessions
GET :base_url/api/sessions/charger/EC3VJ7GU/sessions/2023-06-21/2023-06-24
Authorization: Bearer :token
Accept: application/json


# Get Charger sessions
#
GET :base_url/api/sessions/charger/:charger_id/hourly
Authorization: Bearer :token
Accept: application/json



# Get Site Consumption report
#
GET :base_url/api/sessions/export/:site_id/3/2023-01-01/2023-01-21
Authorization: Bearer :token
Accept: application/json

