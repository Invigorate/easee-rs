# -*- restclient -*-

:base_url = https://api.easee.cloud

:username := (getenv "EASEE_USERNAME")
:password := (getenv "EASEE_PASSWORD")

# :token := (getenv "EASEE_ACCESS_TOKEN")
# :refreshToken := (getenv "EASEE_REFRESH_TOKEN")

:token = eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlcVJKMDhGMTFBQi14QWhnNnNSbXdxSE5PdzllS09JbmJaSVpISmpoOVc4In0.eyJleHAiOjE2OTMwMDQxMTcsImlhdCI6MTY5MzAwMDUxNywianRpIjoiNzc0ZGIyODYtNTlkMy00NDgzLTlkYjUtYjQ4ZDM1MGRhZjJlIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmVhc2VlLmNvbS9yZWFsbXMvZWFzZWUiLCJhdWQiOlsiZWFzZWUtY2xvdWQiLCJlYXNlZS1kZXZpY2Utc2V0dGluZ3MiLCJlYXNlZS1hY2Nlc3MtY29udHJvbCIsImVhc2VlLXByaW1vcmRpYWwiLCJlYXNlZS1jaHJvbmljbGUiLCJlYXNlZS1jdXJyZW50LWRldmljZS1zdGF0ZSIsImVhc2VlLWNvbW1hbmRldXIiLCJlYXNlZSIsImFjY291bnQiXSwic3ViIjoiOWMxMjNhOWQtNDdiNS00NzQ4LWFhNTEtZWRlZDhhMGQxY2I0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZWFzZWUiLCJzZXNzaW9uX3N0YXRlIjoiYjg1NGFkNjktNjNiMy00OTY2LWJlNzgtZmM1YTZmYjExNTFjIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL3BvcnRhbC5lYXNlZS5jb20iLCJodHRwczovL29hdXRoLnBzdG1uLmlvIiwiaHR0cHM6Ly9maXJtd2FyZS1tYW5hZ2VyLmVhc2VlLmNsb3VkIiwiaHR0cHM6Ly9lYXNlZS5jbG91ZCJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiZWFzZWUtY29tbWFuZGV1ciI6eyJyb2xlcyI6WyJjb21tYW5kX2hpc3RvcnlfcmVhZCIsImNvbW1hbmRfd3JpdGUiXX0sImVhc2VlLXByaW1vcmRpYWwiOnsicm9sZXMiOlsiZGV2aWNlX21hbnVmYWN0dXJpbmdfcmVhZCJdfSwiZWFzZWUtY2hyb25pY2xlIjp7InJvbGVzIjpbIm9ic2VydmF0aW9uX2hpc3RvcnlfcmVhZCJdfSwiZWFzZWUtZGV2aWNlLXNldHRpbmdzIjp7InJvbGVzIjpbInNldHRpbmdzX3dyaXRlIiwic2V0dGluZ3NfcmVhZCJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19LCJlYXNlZS1jdXJyZW50LWRldmljZS1zdGF0ZSI6eyJyb2xlcyI6WyJvYnNlcnZhdGlvbl9zdGF0ZV9yZWFkIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiYjg1NGFkNjktNjNiMy00OTY2LWJlNzgtZmM1YTZmYjExNTFjIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIkFjY291bnRJZCI6IjMwMDk4MSIsInJvbGUiOlsiVXNlciJdLCJTdXBwb3J0IjoiRmFsc2UiLCJVc2VySWQiOiIyNjU1MTQiLCJyb2xlcyI6WyJjb21tYW5kX2hpc3RvcnlfcmVhZCIsImNvbW1hbmRfd3JpdGUiLCJkZXZpY2VfbWFudWZhY3R1cmluZ19yZWFkIiwib2JzZXJ2YXRpb25faGlzdG9yeV9yZWFkIiwic2V0dGluZ3Nfd3JpdGUiLCJzZXR0aW5nc19yZWFkIiwibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSIsIm9ic2VydmF0aW9uX3N0YXRlX3JlYWQiXSwibmFtZSI6Ik5pY2xhcyBSb3NlbmdyZW4iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiIrNDY3MzcwNzc3NDYiLCJnaXZlbl9uYW1lIjoiTmljbGFzIiwiZmFtaWx5X25hbWUiOiJSb3NlbmdyZW4iLCJlbWFpbCI6Im5pY2xhc0BuaXJvLm51In0.rr1p1aEIG2x-6seeKgg3Q-M9nbVFsvZ8sPoHJP-VbwURceioJVEaIx-OVQFfhwHr4TwDbo-7lHHwHr3sOUAtintUX3sJq1TV5OlXeRQQNoNTWbH1JE6kMUAydxkDFPZ1-7ux-_vqr9Rc5jXEb8eXsf2GTfq1U2etFcMdNeFrU6HQXF57frludj_KpfJCoJpOp6v0mLtWeo3Si_P12wJaZNpKhgKVFktFaggztU4FnZxZKheAMR2X79kQaXj6L-0KJYMJpAJkY5OPL14FOg5EekWZHrxAdoned7Mqldpgw4WliLWXaMq8l0wIMFFRRh4yRK-Jg6ld2dp34PPyxTdW5g

:refreshToken = eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJiZDQ3MjI5Ny04NGEzLTQzNzgtYmFkZS0yOGZiMGY1M2Y4YTIifQ.eyJleHAiOjE2OTMwODY5MTcsImlhdCI6MTY5MzAwMDUxNywianRpIjoiOTI2YjI5NGUtYjNlZi00ODE1LTkyZjUtMWYwZjc3NjczNjgyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmVhc2VlLmNvbS9yZWFsbXMvZWFzZWUiLCJhdWQiOiJodHRwczovL2F1dGguZWFzZWUuY29tL3JlYWxtcy9lYXNlZSIsInN1YiI6IjljMTIzYTlkLTQ3YjUtNDc0OC1hYTUxLWVkZWQ4YTBkMWNiNCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJlYXNlZSIsInNlc3Npb25fc3RhdGUiOiJiODU0YWQ2OS02M2IzLTQ5NjYtYmU3OC1mYzVhNmZiMTE1MWMiLCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiJiODU0YWQ2OS02M2IzLTQ5NjYtYmU3OC1mYzVhNmZiMTE1MWMifQ.TGkDEFvbfCeZRZZOxm3PVz8kiQqtyG7238tnYJui1mU

# Login
POST :base_url/api/accounts/login
Accept: application/json
Content-type: application/json

{
     "userName": ":username",
     "password": ":password"
}


# Refresh token
#
POST :base_url/api/accounts/refresh_token
Authorization: Bearer :token
Accept: application/json
Content-type: application/json

{
	"accessToken": ":token",
	"refreshToken": ":refreshToken"
}



# Get Profile
#
GET :base_url/api/accounts/profile
Authorization: Bearer :token
Accept: application/json


# Get Sites
#
GET :base_url/api/sites
Authorization: Bearer :token
Accept: application/json


:site_id = 575766


# Get a Site
#
GET :base_url/api/sites/:site_id
Authorization: Bearer :token
Accept: application/json


:charger_id = EC3VJ7GU

# Get Charger
#
GET :base_url/api/chargers/:charger_id
Authorization: Bearer :token
Accept: application/json



# Get Charger sessions
GET :base_url/api/sessions/charger/EC3VJ7GU/sessions/2023-08-20/2023-08-26
Authorization: Bearer :token
Accept: application/json


# Get Charger sessions
#
GET :base_url/api/sessions/charger/:charger_id/hourly
Authorization: Bearer :token
Accept: application/json



# Get Ongoing sessions
#
GET :base_url/api/chargers/:charger_id/sessions/ongoing
Authorization: Bearer :token
Accept: application/json



# Get Site Consumption report
#
GET :base_url/api/sessions/export/:site_id/3/2023-01-01/2023-01-21
Authorization: Bearer :token
Accept: application/json

